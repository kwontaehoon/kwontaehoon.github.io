---
layout : archive
title : EC2
categories : AWS
date : 2022-06-30
---

## AWS EC2를 이용한 서버 인스턴스 생성과 관리

* EC2(Elatic Compute Cloud): 사양을 고르고 원하는 시간만큼 사용할 수 있는 가상 서버

* AMI(Amazon Machine Image): 운영체제가 없는 PC에 윈도우를 설치할 때 윈도우 시디나 ISO 파일을 이용해 윈도우를 설치하는것과 비슷한 원리로 원하는 환경이 구성된 서버를 설치할 수 있게 도와주는 인스턴스 기반 이미지

* 보안 그룹: 보안을 위해 IP와 포트번호를 이용해 정의해두는 서버 접속 규칙

* 키 페어: 서버에 접속하기 위한 공개키 또는 개인키

<br>

> EC2 생성 및 접속

1. 인스턴스 생성
<br>
2. AMI 생성
<br>
3. 인스턴스 유형 선택: 저성능부터 고성능까지 다양한 서버 사양을 선택할 수 있다. 프리티어는 t2.micro를 선택
<br>
4. 인스턴스 세부 정보 구성: 네트워크, 서브넷등 인스턴스에 적합한 구성을 할 수 있다.
<br>
5. 스토리지 추가: 추가 EBS 볼륨 및 인스턴스 스토어 볼륨을 인스턴스에 연결하거나 루트 볼륨의 설정을 편집할 수 있다.
<br>
6. 태그 추가: 성격에 맞는 인스턴스를 분류할 때 유용하게 사용할 수 있다.
<br>
7. 보안 그룹 구성: 특정 트래픽을 인스턴스에 도달하도록 허용할 수 있는 규칙을 추가 할 수 있다.
<br>
8. 키 페어 선택: 개인키 페어를 다운받고 인스턴스를 시작한다.
<br>
9. 생성된 인스턴스에는 SSH 프로토콜을 이용해 접속할 수 있으므로 윈도우에서는 SSH 클라이언트로 주로 쓰이는 Putty 클라이언트를 이용해 접속한다.

<br>

> 웹 서버와 웹 어플리케이션 서버

* 웹 서버: 클라이언트에서 HTTP 프로토콜로 요청을 받고 정적인 파일들을 응답으로 전달한다. HTML, 이미지, css, js 파일과 같은 정적인 파일의 내용을 그대로 응답으로 줄 수 있지만 로그인, 데이터베이스 접속 등 서버에서 코드를 실행할 필요가 있는 애플리케이션은 웹 서버만으로는 실행할 수 없다. 대표적인 웹 서버로는 nginx, Apache, IIS 등이 있다.

* 웹 애플리케이션 서버: 클라이언트의 요청에 대해 코드 실행을 통해 동적인 응답을 만들어주는 역할을 한다. 대표적인 웹 서버로는 Phusion Passenger, Apache Tomcat, JBoss 등이 있다.

* 보통 웹 서버와 웹 애플리케이션 서버는 함께 사용되는데 한ㅅ ㅓ버에서 여러 종류의 애플리케이션을 서비스하는 경우 웹 서버가 정적 파일을 처리하는 역할이나 여러 웹 애플리케이션 서버로 라우팅하는 역할을 할 수 있다.

<br>

> Auto Scaling 그룹을 이용한 다중 서버 구성

* 시작 템플릿: AMI, 보안 그룹 등 다양한 설정을 미리 저장해두고 Auto Scaling의 실행을 도와준다.

* Auto Scaling 그룹: 같은 사양, 같은 환경, 같은 코드를 가지고 있는 똑같은 EC2 인스턴스들의 묶음이며 인스턴스들의 수를 자동으로 늘리고 줄여줄 수 있다.